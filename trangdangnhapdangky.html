<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang quản lý Account</title>
    <link rel="stylesheet" href="./trangdangkydangnhap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <img src="./img/IViettech.png" alt="">
            </div>
            <div class="btn">
                <button class="open-form-register">Register</button>
                <button class="open-form-login" >Login</button>
            </div>
        </div>
        <div class="footer">
            
        </div>


        <!-- form register -->
        <div class="form_register hide">
            <div class="form_inner"> 
                <div class="form_header">
                    <p>ĐĂNG KÝ THÔNG TIN USER</p>
                    <i class="fa-solid fa-circle-xmark"></i>
                </div>
                <div class="form_body">
                    <input id="username" type="text" placeholder="Enter name"> <br>
                    <input id="email" type="text" placeholder="Enter email"><br>
                    <input id="phone" type="text" placeholder="Enter phone"><br>
                    <input id="password" type="password" placeholder="Enter pass">
                </div>
                <div class="form_footer">
                    <button id="btnRegister" onclick="registerUser()">Save</button>
                    <button class="close">Close</button>
                </div>
            </div>
        </div>
        <!-- form register -->
        <!-- form Login -->
        <div class="form_login hide_login">
            <div class="form_inner"> 
                <div id="x-header" class="form_header">
                    <p>ĐĂNG NHẬP HỆ THỐNG</p>
                    <i class="fa-solid fa-circle-xmark"></i>
                </div>
                <div class="form_body">
                    <input id="email_login" type="text" placeholder="Enter email"><br>
                    <input id="password_login" type="password" placeholder="Enter pass">
                </div>
                <div class="form_footer">
                    <button id="btnLogin" onclick="login()">Đăng nhập</button>
                    <button class="x-close">Close</button>
                </div>
            </div>
        </div>
         <!-- form login -->
    </div>



</body>

<script>
     // viết sự kiện cho nút button register
    var btnOpen = document.querySelector(".open-form-register");
    var formRegister = document.querySelector(".form_register");
    var iconClose = document.querySelector(".form_header i");
    var btnClose = document.querySelector(".close");


    function toggleForm() {
        formRegister.classList.toggle("hide");
    }
    btnOpen.addEventListener("click",toggleForm)
    btnClose.addEventListener("click", toggleForm)
    iconClose.addEventListener("click", toggleForm)
    formRegister.addEventListener("click", function(e) {
        if (e.target == e.currentTarget) {
            toggleForm();
        }
    })
    // viết sự kiện cho nút button login

    var openLogin = document.querySelector(".open-form-login");
    var formLogin = document.querySelector(".form_login");
    var iconLogin = document.getElementById("x-header");
    var btnLogin = document.querySelector(".x-close");

   function loGin() {
    formLogin.classList.toggle("hide_login");
   }

    openLogin.addEventListener("click",loGin)
    iconLogin.addEventListener("click", loGin)
    btnLogin.addEventListener("click", loGin)
    formLogin.addEventListener("click", function(e) {
        if (e.target == e.currentTarget) {
            loGin();
        }
    })

    //chức năng đăng ký user:

    function registerUser() {
        
        var username = document.getElementById("username").value;
        var email = document.getElementById("email").value;
        var phone = document.getElementById("phone").value;
        var password = document.getElementById("password").value;

        var User = {
            username : username,
            email: email,
            phone : phone,
            password : password,
        }
        var json = JSON.stringify(User)
        localStorage.setItem("infoUser", json)
        alert("Đăng ký thành công")
        document.querySelectorAll('input').forEach(function(input){
            input.value = "";
        })
    }

    //đăng nhập user:
    function login() {
        
        var email = document.getElementById("email_login").value;
        var password = document.getElementById("password_login").value;

        var User = localStorage.getItem("infoUser");
        console.log(User)
        var data = JSON.parse(User);
        if ( email == data.email && password == data.password ) {
            alert("đăng nhập thành công")
            window.location.href = "trangchu.html"
        }else {
            alert("đăng nhập không thành công")
        }
    }

    
   
   
</script>
</html>